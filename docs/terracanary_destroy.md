## terracanary destroy

Destroys one or more stacks

### Synopsis

Destroys stacks according to the specified flags. Returns success only if everything requested was actually destroyed (or didn't exist to begin with). For a normal destroy, you will need to provide whatever inputs are normally required by the stack via -i/-I.

To bypass terraform definition errors, you can use --force to supply an empty-except-providers definition file to use during destruction. USING THIS OPTION WILL BYPASS THE prevent_destroy DIRECTIVE.

Unless --skip-confirmation is specified, terracanary will prompt for interactive confirmation if the destroy command would remove all versions of any currently existing stack (this means it always prompts for destruction of non-versioned stacks).

Because it's very common for the first attempt at destroying a complex stack to fail due to ordering issues, terracanary will automatically retry once if resources are left over after the first destroy. If a stack requested for destruction still has resources remaining after 2 attempts, terracanary will continue to process other stacks requested for destruction, but will exit with code 13 at the end. Unexpected failures will exit immediately with various other codes.

```
terracanary destroy <flags> [-- <terraform-args>...]
```

### Examples

```
terracanary destroy -s main:4 -i code:5
terracanary destroy -s code:5 -l module.task_definition.aws_ecs_task_definition.default
terracanary destroy -a main -a code -e main:6 -e code:6
terracanary destroy --legacy -l module.ecs_service.aws_route53_record.default
terracanary destroy -s main:4 -f main/providers.tf
terracanary destroy -A -f main/providers.tf --skip-confirmation
```

### Options

```
  -a, --all stringArray                   destroy all versions of specified stack; may be repeated for multiple stacks
  -A, --everything                        destroy ALL stacks
  -E, --except stringArray                skip destroying specified unversioned stack; may repeat
  -e, --except-version stringArray        skip destroying specified stack version; may repeat
  -f, --force string                      override prevent_destroy and bypass terraform definition/input errors
  -h, --help                              help for destroy
  -I, --input-stack stringArray           Name of unversioned stack to provide state from as input; may repeat for multiple input stacks
  -i, --input-stack-version stringArray   Stack version (as <stack>:<version>[:<alias>]) to provide state from as input; may repeat for multiple input stacks
  -l, --leave stringArray                 skip destruction of named resource by removing from state before destroy
      --legacy                            destroy legacy stack (contents of base state filename)
      --skip-confirmation                 don't ask for interactive confirmation if command would leave no versions of an existing stack
  -S, --stack stringArray                 Name of unversioned stack to operate on; may repeat argument for multiple stacks
  -s, --stack-version stringArray         Stack version to operate on as '<stack>:<version>'; may repeat argument for multiple stacks
```

### SEE ALSO

* [terracanary](../README.md)	 - Deployment orchestration using terraform

###### Auto generated by spf13/cobra on 12-Apr-2018
